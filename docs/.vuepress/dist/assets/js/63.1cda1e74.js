(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{387:function(s,a,e){"use strict";e.r(a);var n=e(18),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"npm命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm命令"}},[s._v("#")]),s._v(" npm命令")]),s._v(" "),e("blockquote",[e("p",[s._v("内容为网页复制")])]),s._v(" "),e("h2",{attrs:{id:"npm-install-modulename"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-install-modulename"}},[s._v("#")]),s._v(" npm install moduleName")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". 安装模块到项目node_modules目录下。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 不会将模块依赖写入devDependencies或dependencies 节点。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 运行 "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 初始化项目时不会下载模块。\n")])])]),e("h2",{attrs:{id:"npm-install-g-modulename"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-install-g-modulename"}},[s._v("#")]),s._v(" npm install -g moduleName")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". 安装模块到全局，不会在项目node_modules目录中保存模块包。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 不会将模块依赖写入devDependencies或dependencies 节点。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 运行 "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 初始化项目时不会下载模块。\n")])])]),e("h2",{attrs:{id:"npm-install-save-modulename-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-install-save-modulename-命令"}},[s._v("#")]),s._v(" npm install -save moduleName 命令")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". 安装模块到项目node_modules目录下。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 会将模块依赖写入dependencies 节点。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 运行 "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 初始化项目时，会将模块下载到项目目录下。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(". 运行npm "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --production或者注明NODE_ENV变量值为production时，会自动下载模块到node_modules目录中。\n")])])]),e("h2",{attrs:{id:"npm-install-save-dev-modulename"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-install-save-dev-modulename"}},[s._v("#")]),s._v(" npm install -save-dev moduleName")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". 安装模块到项目node_modules目录下。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 会将模块依赖写入devDependencies 节点。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 运行 "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 初始化项目时，会将模块下载到项目目录下。\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(". 运行npm "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --production或者注明NODE_ENV变量值为production时，不会自动下载模块到node_modules目录中\n")])])]),e("h2",{attrs:{id:"其他说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他说明"}},[s._v("#")]),s._v(" 其他说明")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("devDependencies 节点下的模块是我们在开发时需要用的，比如项目中使用的 gulp ，压缩css、js的模块。这些模块在我们的项目部署后是不需要的，所以我们可以使用 -save-dev 的形式安装。像 express 这些模块是项目运行必备的，应该安装在 dependencies 节点下，所以我们应该使用 -save 的形式安装。\n")])])]),e("h2",{attrs:{id:"_1-语义化版本号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-语义化版本号"}},[s._v("#")]),s._v(" 1. 语义化版本号")]),s._v(" "),e("ul",[e("li",[s._v("npm默认所有的node包都使用语义化版本号")]),s._v(" "),e("li",[s._v("默认情况下，"),e("code",[s._v("npm install --save")]),s._v("下载的都是最新版本，并且会在"),e("code",[s._v("package.json")]),s._v("中登记一个最优版本号(标记+版本号数字)")])]),s._v(" "),e("p",[e("code",[s._v("package.json")]),s._v("的最优版本号")]),s._v(" "),e("ul",[e("li",[s._v("^1.0.0:"),e("code",[s._v("^")]),s._v("表示下载的包可能会有更高的次版本号或者修订版本号")]),s._v(" "),e("li",[s._v("~1.0.0:"),e("code",[s._v("~")]),s._v("表示可能会有更高的修订版本号")])]),s._v(" "),e("p",[s._v("语义化版本\n格式：主版本号.次版本号.修订号")]),s._v(" "),e("ul",[e("li",[s._v("主版本号：无法兼容前一版本时")]),s._v(" "),e("li",[s._v("次版本号：向下兼容的功能性新增时")]),s._v(" "),e("li",[s._v("修订号：向下兼容的问题修正时")])]),s._v(" "),e("h2",{attrs:{id:"_2-安装包控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装包控制"}},[s._v("#")]),s._v(" 2. 安装包控制")]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("npm shrinkwrap")])])]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://tech.meituan.com/2015/10/23/npm-shrinkwrap.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("美团 使用 npm shrinkwrap 来管理项目依赖"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("用法")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成或更新npm-shrinkwrap.json文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" shrinkwrap\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" shrinkwrap --dev\n")])])]),e("p",[s._v("问题")]),s._v(" "),e("ul",[e("li",[s._v("防止npm安装包内容更新后，安装包不一致的问题")]),s._v(" "),e("li",[s._v("package.json中的包，可能还会依赖于其他包，因此无法通过写死package.json的方式控制")])]),s._v(" "),e("p",[e("code",[s._v("npm-shrinkwrap.json")]),s._v("记录当前项目所形成的npm资源树")]),s._v(" "),e("ul",[e("li",[s._v("版本号")]),s._v(" "),e("li",[s._v("资源地址")]),s._v(" "),e("li",[s._v("依赖项")]),s._v(" "),e("li",[s._v("...")])]),s._v(" "),e("p",[s._v("什么时候更新"),e("code",[s._v("npm-shrinkwrap.json")]),s._v("文件【更新"),e("code",[s._v("package.json")]),s._v("或者"),e("code",[s._v("node_modules")]),s._v("时】\neg:")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("npm install")])]),s._v(" "),e("li",[e("code",[s._v("npm update")])]),s._v(" "),e("li",[e("code",[s._v("npm uninstall")])])]),s._v(" "),e("p",[s._v("优先级: "),e("code",[s._v("npm-shrinkwrap.json")]),s._v(" > "),e("code",[s._v("package-lock.json")]),s._v(" > "),e("code",[s._v("package.json")]),s._v(" "),e("code",[s._v("package-lock.json")]),s._v(":会在修改"),e("code",[s._v("pacakge.json")]),s._v("或者"),e("code",[s._v("node_modules")]),s._v("时就会自动产生或更新")]),s._v(" "),e("h2",{attrs:{id:"_3-yarn-lock"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-yarn-lock"}},[s._v("#")]),s._v(" 3. "),e("code",[s._v("yarn.lock")])]),s._v(" "),e("blockquote",[e("p",[s._v("准确存储每个安装的依赖版本，类似于"),e("code",[s._v("npm")]),s._v("的"),e("code",[s._v("npm-shrinkwrap.json")])])]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://classic.yarnpkg.com/zh-Hans/docs/yarn-lock/",target:"_blank",rel:"noopener noreferrer"}},[s._v("yarn.lock"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=t.exports}}]);