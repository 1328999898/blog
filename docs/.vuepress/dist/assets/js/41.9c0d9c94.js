(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{361:function(s,t,a){"use strict";a.r(t);var n=a(18),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"python环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python环境搭建"}},[s._v("#")]),s._v(" Python环境搭建")]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://github.com/cloudera/impyla",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文档"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"yum安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yum安装"}},[s._v("#")]),s._v(" yum安装")]),s._v(" "),a("ul",[a("li",[s._v("gcc-c++")]),s._v(" "),a("li",[s._v("cyrus-sasl-devel")]),s._v(" "),a("li",[s._v("cyrus-sasl-plain")])]),s._v(" "),a("h2",{attrs:{id:"pip安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pip安装"}},[s._v("#")]),s._v(" pip安装")]),s._v(" "),a("ul",[a("li",[s._v("thrift_sasl")]),s._v(" "),a("li",[s._v("sasl")]),s._v(" "),a("li",[s._v("impyla")]),s._v(" "),a("li",[s._v("ipython")]),s._v(" "),a("li",[s._v("pymysql")]),s._v(" "),a("li",[s._v("pyhive")]),s._v(" "),a("li",[s._v("SQLAlchemy")]),s._v(" "),a("li",[s._v("pandas")]),s._v(" "),a("li",[s._v("numpy")]),s._v(" "),a("li",[s._v("thrift==0.9.3")])]),s._v(" "),a("h2",{attrs:{id:"pip批量安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pip批量安装"}},[s._v("#")]),s._v(" pip批量安装")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("pip freeze "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" requirements.txt   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出本地安装包至文件")]),s._v("\npip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -r requirements.txt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据文件自动安装包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ----------------------------------------------------")]),s._v("\npip freeze比pip list的包少的原因：\n因为pip , wheel , setuptools 等包，是自带的而无法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("un"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("install的。考虑到pip freeze的用途，所以这些包并没有显示。\n如果一定要用pip freeze来显示所有包，可以加上参数-all，即pip freeze -all\n")])])]),a("h2",{attrs:{id:"mac环境变量配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mac环境变量配置"}},[s._v("#")]),s._v(" MAC环境变量配置")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查找当前pyhton的site-packages目录")]),s._v("\n$ python -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'import site; print site.getsitepackages()[0]'")]),s._v("\n//anaconda/lib/python2.7/site-packages\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入项目根目录下(/Users/kaiqigu/Documents/scripts/bi_scripts)执行以下命令")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" //anaconda/lib/python2.7/site-packages/bi.pth\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用以下命令查看当前目录是否在输出中")]),s._v("\n$ python -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'import sys; print sys.path'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---------------------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除环境变量中的内容")]),s._v("\n$ sys.path.remove"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/Users/kaiqigu/Downloads/bi_scripts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"各种问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各种问题"}},[s._v("#")]),s._v(" 各种问题")]),s._v(" "),a("ul",[a("li",[s._v("问题一")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("问题场景：pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" sasl时遇到问题\nerror: "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'gcc'")]),s._v(" failed with "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" status "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n解决办法：yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y cyrus-sasl-devel cyrus-sasl-plain\n")])])]),a("ul",[a("li",[s._v("问题二")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("问题场景：执行impala的查询语句时\nAttributeError: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'TBufferedTransport'")]),s._v(" object has no attribute "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'trans'")]),s._v("\n解决办法：thrift版本问题，pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("thrift")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),s._v(".3\n")])])]),a("ul",[a("li",[s._v("问题三")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("问题场景：ImportError: No module named pkg_resources\n解决方案：重新安装setuptools，命令如下：\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://pypi.python.org/packages/source/s/setuptools/setuptools-0.6c11.tar.gz"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#md5=7df2a529a074f613b509fb44feefefe74e")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf setuptools-0.6c11.tar.gz\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" setuptools-0.6c11/\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" python setup.py build\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" python setup.py "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --upgrade setuptools\n")])])]),a("ul",[a("li",[s._v("问题四")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("问题场景：安装MySQL-python时报错：EnvironmentError: mysql_config not found\n解决方案：安装mysql-devel\n$ yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-devel\n")])])]),a("h2",{attrs:{id:"常用的安装命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用的安装命令"}},[s._v("#")]),s._v(" 常用的安装命令")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("安装指定版本：pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 包名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("版本号\n升级到指定版本：pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -U 包名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("版本号\n")])])]),a("h2",{attrs:{id:"设置默认启动的python版本（mac环境下）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置默认启动的python版本（mac环境下）"}},[s._v("#")]),s._v(" 设置默认启动的python版本（MAC环境下）")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 使用了bash情况下")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" .bash_profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/Users/.../anaconda/bin:'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .bash_profile\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 使用了zsh情况下")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" .zshrc\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/Users/.../anaconda/bin:'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v(" \n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .zshrc\n")])])]),a("h2",{attrs:{id:"其他配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他配置"}},[s._v("#")]),s._v(" 其他配置")]),s._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取主机IP地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" socket\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gethostbyname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gethostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nsocket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gaierror"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Errno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" service "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" known\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 原因")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hosts中没有hostname的主机名\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解决方法 - 通过hostname查询主机名后，存入/etc/hosts后即可")]),s._v("\n$ hostname\n$ vim "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hosts\nIP地址 hostname\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);